!function(e,t){var n=e.document,i="whats-element",o=i+"-tip-container",r=i+"-tip-delete",a=i+"-copy",l=i+"-unique-container",d=i+"-unique-id",c=function(e){this.options=Object.assign({},{draw:!0},e),this.lastClick=n.body;var t=this;n.addEventListener("click",function(e){t.lastClick=e.target,t.focusedElement!==t.lastClick&&p.clean()})},p=c.prototype;function s(){n.querySelectorAll("."+i+"-active").forEach(function(e){e.classList.remove(i+"-active")})}function u(e,t){var i=n.createElement(e||"div");return t&&(i.id=t),i}p.getUniqueId=function(e,t){if(!((e=e||this.lastClick)instanceof HTMLElement))return console.error("invalid input,not a HTML element"),null;var i={wid:"",type:""},o=e.id,r=e.name,a=e.tagName.toLowerCase(),l=e.type?e.type.toLowerCase():"",d="";if((e.classList||[]).forEach(function(e){d+="."+e}),"body"!==a&&"html"!==a||(i.wid=a,i.type=a),o&&n.getElementById(o)===e){var s=new RegExp("^[a-zA-Z]+");t?s.test(o)&&(i.wid=a+"#"+o):i.wid=o,i.type="byId"}if(!i.wid&&r&&n.getElementsByName(r)[0]===e&&(i.wid=r,i.type="byName"),!i.wid&&d&&n.querySelector(a+d)===e&&(i.wid=a+d,i.type="byClass"),"radio"===l){var u=a+"[value='"+e.value+"']";r&&(u+="[name='"+r+"']"),n.querySelector(u)===e&&(i.wid=u,i.type="byValue")}if(!i.wid){u=a;u=d?u+d:u,u=r?u+"[name='"+r+"']":u,p.getTarget(u)===e&&(i.wid=u,i.type="byMixed")}if(!i.wid){u=a;u=d?u+d:u;var f=n.querySelectorAll(u);if(f&&f.length>0){for(var y=null,g=0;g<f.length;g++)if(e===f[g]){y=g+1;break}y&&(u=u+":nth-child("+y+")",n.querySelector(u)===e&&(i.wid=u,i.type="byOrder"))}}if(!i.wid){var h=c.prototype.getUniqueId(e.parentNode,!0).wid;if(!h)return;var x=a;d&&(x+=d);u=h+">"+x;if(n.querySelectorAll(u).length>1){u=null;y=null;for(var m=0;m<e.parentNode.children.length;m++)if(e.parentNode.children[m]===e){y=m+1;break}if(y>=1)u=h+">"+x+":nth-child("+y+")",n.querySelector(u)!=e&&(u=null)}i.wid=u,i.type="byParent"}return this.focusedElement=p.getTarget(i.wid),!t&&this.options.draw&&c.prototype.draw(i),i},p.getTarget=function(e){return n.getElementById(e)||n.getElementsByName(e)[0]||n.querySelector(e)},p.draw=function(t){var i=p.getTarget(t.wid);if(i){var f=n.getElementById(o)?n.getElementById(o):u("aside",o);f.innerHTML="",f.addEventListener("click",function(e){e.stopPropagation()});var y=u("div",r);y.innerText="x",y.onclick=function(){c.prototype.clean()},f.appendChild(y);var g=u("div",l),h=u("input",d);h.readOnly=!0,h.className=t.type,h.value=t.wid;var x=u("div",a);x.setAttribute("query-type",t.type),x.innerText="复制",x.onclick=function(){h.select(),n.execCommand("Copy")},g.appendChild(h),g.appendChild(x),f.appendChild(g);var m=i.getBoundingClientRect().top+i.offsetHeight,w=i.getBoundingClientRect().left+e.screenX,b=w<100?w:w-(240|f.offsetWidth)/2+i.offsetWidth/2-n.body.getBoundingClientRect().left;f.style.left=b+"px",f.style.top=m+e.scrollY+10+"px",n.body.appendChild(f),s(),i.classList.add("whats-element-active")}else console.error("no this element:"+t.wid)},p.clean=function(){s();var e=n.getElementById(o);e&&(e.outerHTML="")},void 0!==e&&null!==e&&(e.whatsElement=c),void 0!==e&&null!==e||(this.whatsElement=c),"undefined"!=typeof module&&module.exports&&(module.exports=c),"function"==typeof define&&define(function(){return c});var f=u("style"),y="#"+o+"{position:absolute;color:#8ed3fb;font-size:14px;z-index:1000;background-color:rgba(255, 255, 255,0.9);box-sizing:border-box;box-shadow:rgba(0, 0, 0, 0.2) 0px 1px 10px 3px;padding: 10px 20px;border-radius: 36px;}";y+="#"+r+"{cursor:pointer;position:absolute;top:-10px;width:20px;height: 20px;left:calc(50% - 8px);clip-path: polygon(50% 0,100% 50%,50% 100%,0 50%);background:#fff;}",y+="#"+r+":hover{background:#fffbf0}",y+="#"+l+"{display:flex;justify-content:space-around;}",y+="#"+d+"{border:1px solid #d1d5da;box-shadow:inset 0 1px 2px rgba(27,31,35,0.075);text-indent:10px;}",y+="#"+a+"{background:aliceblue;cursor: pointer;}",y+="#"+a+"::after{position:absolute;z-index:1000000;padding: 0.1em 0.75em;color: #fff;text-align:center;text-shadow:none;text-transform:none;content:attr(query-type);background: #a88462;border-radius: 3px;opacity: 0;transition:all .5s}",y+="#"+a+":hover:after{display:inline-block;opacity: 1;}",y+=".whats-element-active{outline:red 1px dashed !important}",f.innerText=y,n.head.appendChild(f),e.whatsElement=c}(window);