!function(e,t){var n=e.document,i="whats-element",r="whats-element-tip-container",a=function(e){this.options=Object.assign({},{draw:!0},e),this.lastClick=n.body,this.focusedElement=null;var t=this;n.addEventListener("click",function(e){t.lastClick=e.target,null!=t.focusedElement&&t.focusedElement!=e.target&&o.clean()})},o=a.prototype;function l(){n.querySelectorAll("."+i+"-active").forEach(function(e){e.classList.remove(i+"-active")})}o.version="1.0.1",o.getUniqueId=function(e,t){if(!((e=e||this.lastClick)instanceof HTMLElement))return console.error("invalid input,not a HTML element"),null;var i={wid:"",type:""},r=e.id,l=e.name,d=e.tagName.toLowerCase(),c=e.type?e.type.toLowerCase():"",p="";if((e.classList||[]).forEach(function(e){p=p+"."+e}),"body"!==d&&"html"!==d||(i.wid=d,i.type=d),r&&n.getElementById(r)===e){var s=new RegExp("^[a-zA-Z]+");t?s.test(r)&&(i.wid=d+"#"+r):i.wid=r,i.type="byId"}if(!i.wid&&l&&n.getElementsByName(l)[0]===e&&(i.wid=l,i.type="byName"),!i.wid&&p&&n.querySelector(d+p)===e&&(i.wid=d+p,i.type="byClass"),"radio"===c){var u=d+"[value='"+e.value+"']";l&&(u+="[name='"+l+"']"),n.querySelector(u)===e&&(i.wid=u,i.type="byValue")}if(!i.wid){u=d;u=p?u+p:u,u=l?u+"[name='"+l+"']":u,o.getTarget(u)===e&&(i.wid=u,i.type="byMixed")}if(!i.wid){u=d;u=p?u+p:u;var f=n.querySelectorAll(u);if(f&&f.length>0){for(var h=null,y=0;y<f.length;y++)if(e===f[y]){h=y+1;break}h&&(u=u+":nth-child("+h+")",n.querySelector(u)===e&&(i.wid=u,i.type="byOrder"))}}if(!i.wid){var m=a.prototype.getUniqueId(e.parentNode,!0).wid;if(!m)return;var w=d;p&&(w+=p);u=m+">"+w;if(n.querySelectorAll(u).length>1){u=null;h=null;for(var g=0;g<e.parentNode.children.length;g++)if(e.parentNode.children[g]===e){h=g+1;break}if(h>=1)u=m+">"+w+":nth-child("+h+")",n.querySelector(u)!=e&&(u=null)}i.wid=u,i.type="byParent"}return this.focusedElement=o.getTarget(i.wid),!t&&this.options.draw&&a.prototype.draw(i),i},o.getTarget=function(e){return n.getElementById(e)||n.getElementsByName(e)[0]||n.querySelector(e)},o.draw=function(t){var i=o.getTarget(t.wid);if(i){var d=n.getElementById(r)?n.getElementById(r):n.createElement("aside");d.id=r,d.innerHTML="",d.addEventListener("click",function(e){e.stopPropagation()});var c=n.createElement("div");c.id="whats-element-tip-delete",c.innerText="x",c.onclick=function(){a.prototype.clean()},d.appendChild(c);var p=n.createElement("div");p.id="whats-element-unique-container";var s=n.createElement("input");s.readOnly=!0,s.id="whats-element-unique-id",s.className=t.type,s.value=t.wid;var u=n.createElement("div");u.id="whats-element-copy",u.setAttribute("query-type",t.type),u.innerText="复制",u.onclick=function(){s.select(),n.execCommand("Copy")},p.appendChild(s),p.appendChild(u),d.appendChild(p);var f=n.createElement("div");f.id="whats-element-inner-text",f.innerText=o.getTarget(t.wid).innerText,d.appendChild(f);var h=i.getBoundingClientRect().top+i.offsetHeight,y=i.getBoundingClientRect().left+e.screenX,m=y<100?y:y-(240|d.offsetWidth)/2+i.offsetWidth/2-n.body.getBoundingClientRect().left;d.style.left=m+"px",d.style.top=h+e.scrollY+10+"px",n.body.appendChild(d),l(),i.classList.add("whats-element-active")}else console.error("不存在该HTML对象，无法绘制")},o.clean=function(){l();var e=n.getElementById(r);e&&(e.outerHTML="")},void 0!==e&&null!==e&&(e.whatsElement=a),void 0!==e&&null!==e||(this.whatsElement=a),"undefined"!=typeof module&&module.exports&&(module.exports=a),"function"==typeof define&&define(function(){return a});var d=n.createElement("style"),c="#whats-element-tip-container{position: absolute;white-space: nowrap;background: #333740;color: #8ed3fb;font-size: 14px;z-index: 1000;background-color: rgba(255, 255, 255,0.95);box-sizing: border-box;box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 10px 3px;padding: 10px 20px;border-radius: 36px;}";c+="#whats-element-tip-delete{cursor: pointer;position: absolute;top: -10px;width: 20px;height: 20px;left: calc(50% - 8px);clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);background: #fff;text-align: center;}",c+="#whats-element-tip-delete:hover{background:#fffbf0}",c+="#whats-element-unique-container{display:flex;justify-content: space-around;}",c+="#whats-element-unique-id{border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 1px 2px rgba(27,31,35,0.075);background-color:#fff;line-height: 20px;text-indent:10px;}",c+="#whats-element-copy{background:aliceblue;text-align: center;border-radius: 5px;cursor: pointer;}",c+="#whats-element-copy::after{position: absolute;z-index: 1000000;padding: 0.1em 0.75em;color: #fff;text-align: center;text-shadow: none;text-transform: none;content:attr(query-type);background: #a88462;border-radius: 3px;opacity: 0;transition:all .5s}",c+="#whats-element-copy:hover:after{display:inline-block;opacity: 1;}",c+="#whats-element-inner-text{color:#ddd;max-width:200px;max-height:100px;overflow:hidden;text-overflow:ellipsis;}",c+=".whats-element-active{outline: red 1px dashed !important}",d.innerText=c,n.head.appendChild(d)}(window);